<!-- шаблон критерия -->
<template id="item">
  <style> @import "assets/css/mui.min.css"; </style>
  <div class="mui--z1">
    <div class="mui-textfield">
      <input type="text">
    </div>
    <label class="float: left">LABEL</label>
  </div>

</template>

<script>
window.onload = (function( window, document, undefined) {
  var thatDoc           = document,
      thisDoc           = (thatDoc._currentScript || thatDoc.currentScript).ownerDocument,
      itemTemplate      = thisDoc.querySelector('template#item').content,
      CoreInputProto = Object.create(HTMLElement.prototype);
  
  // CoreCriteriaProto.select = 'World';
  
  CoreInputProto.createdCallback = function(){
    this.initialize();
  };

  CoreInputProto.attributeChangedCallback = function( attr, oldVal, newVal) {
    switch( attr ){
      case 'source':
        this.setSource( newVal );
        break;
      case 'origin':
        this.setOrigin( newVal );
        break;
      case 'criteria':
        this.setCriteria( newVal );
        break;
      case 'value':
        this.setValue( newVal );
        break;
      case 'criteria-conditions':
        this.setCriteriaConditions( newVal );
        break;
      default:
        console.log('UNEXPECTED attr, oldVal, newVal: ',attr, oldVal, newVal);
        break;

    };
  };
  CoreInputProto.create = function(config) {
    console.log('CoreCriteriaProto create', config);

    var shadowRoot = this.createShadowRoot(),
        item = thatDoc.importNode(itemTemplate, true);
    shadowRoot.appendChild(item);
  };

  CoreInputProto.initialize = function(){
    this.source             = this.getAttribute('source');
    this.origin             = this.getAttribute('origin');
    this.value              = this.getAttribute('value');
    this.conditions         = this.getAttribute('conditions');
    this.criteriaConditions = this.getAttribute('criteria-conditions');
    
    console.log( 'CoreInputProto initialize', this);
    this.create();

  };

  CoreInputProto.setSource = function(data){
    this.source = data;
  };
  CoreInputProto.setOrigin = function(data){
    this.origin = data;
  };
  CoreInputProto.setValue = function(data){
    this.value = data;
  };
  CoreInputProto.setConditions = function(data){
    this.conditions = data;
  };
  CoreInputProto.setCriteriaConditions = function(data){
    this.criteriaConditions = data;
  };

  window.CoreSelect = thatDoc.registerElement('core-input', {
    prototype: CoreInputProto
  });

})(window, document);
</script>