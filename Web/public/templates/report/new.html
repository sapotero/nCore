<!-- Главная панелька с кнопками -->
<link rel="import" href="../templates/elements/core-modal.html">
<link rel="import" href="../templates/elements/core-criteria.html">

<table class="mui-table no-margin-bottom">
  <tr>
    <td class="mui-col-md-2">&nbsp;</td>

    <td class="mui-col-md-8 bar ">
      <div class="mui-panel mainbar  mui--z1" id="paperBar">
      </div>
    </td>
    <td class="mui-col-md-2">
      <div id="cellSettings" class="mui--z1">
        
        <ul class="mui-tabs__bar s cellSettings mui-tabs__bar--justified">

          <li class="mui--is-active">
            <a data-mui-toggle="tab" data-mui-controls="criteriaGroupTab" class="mui--text-white">Критерии</a>
          </li>
          <li>
            <a data-mui-toggle="tab" data-mui-controls="formulaGroupTab" class="mui--text-white">Свойства</a>
          </li>
        </ul>

        <div class="mui-tabs__pane mui--is-active" id="criteriaGroupTab">

          <div class="mui-col-md-12 firstTimeCriteria">
            <div class="mui--text-center"> Нет критериев поиска</div>
          </div>

          <ul class="criteriaSelector mui-col-md-12">

          </ul>

          <div class="mui-col-md-12">
            <button class="addCriteriaGroupButton mui-btn mui-btn--accent mui-btn--small mui-btn--fab addCriteriaGroup mui--z3"> + </button>
          </div>

        </div>
        <div class="mui-tabs__pane" id="formulaGroupTab">
          <div class="panelSelectorGroup formulaSettings">
            <div class="mui-checkbox">
              <label>
                <input type="checkbox" class="formula" name="appg" value="">
                АППГ
              </label>
            </div>
            <div class="mui-checkbox">
              <label>
                <input type="checkbox" class="formula" name="total" value="">
                Всего
              </label>
            </div>
            <div class="mui-checkbox">
              <label>
                <input type="checkbox" class="formula" name="percent" value="">
                Процент
              </label>
            </div>
          </div>

          <div class="formulaSelectorGroupTemplate panelSelectorGroup">
            <li class=" mui-col-md-12 mui-panel mui-panel-group formulaSelectorGroup mui--z2">
              <span class="formulaSelectorGroupName mui--pull-left"> Формула </span>
              <span class="formulaSelectorGroupName mui--pull-right">
                <button class="mui-btn mui-btn--primary mui-btn--small addCriteriaItemToGroup"> Добавить </button>
              </span>
              <ul class="formulaSelectorGroupList mui-row">
              </ul>
            </li>
            <div class="mui-select mui-col-md-12 connectionGroup mui--hide">
              <select>
                <option value="and">И</option>
                <option value="or">ИЛИ</option>
              </select>
            </div>
          </div>
        </div>

      </div>
    </td>
  </tr>
</table>

<!-- Отчет -->
<table class="mui-table animatedSlow paperZoom">
  <tr>
    <td class="mui-col-md-2">&nbsp;</td>

    <!-- Лист -->
    <td class="mui-col-md-8 ">
      <div class="mui-panel mui--z2" id="paper">

      </div>
    </td>

    <td class="mui-col-md-2">&nbsp;</td>
  </tr>
</table>


<!-- шаблон группы -->
<div class="criteriaSelectorGroupTemplate">
  <li class=" mui-col-md-12 mui-panel mui-panel-group criteriaSelectorGroup mui--z2">
    <span class="criteriaSelectorGroupName mui--pull-left"> Группа </span>
    <span class="criteriaSelectorGroupName mui--pull-right">
      <button class="mui-btn mui-btn--primary mui-btn--small addCriteriaItemToGroup"> Добавить </button>
    </span>
    <ul class="criteriaSelectorGroupList mui-row">
    </ul>
  </li>
  <div class="mui-select mui-col-md-12 connectionGroup">
    <select name="connectionGroup">
      <option value="and">И</option>
      <option value="or">ИЛИ</option>
    </select>
  </div>
</div>

<!-- шаблон критерия -->
<li class="criteriaSelectorItemTemplate criteriaSelectorItem mui-panel mui-col-md-12  mui--text-center mui--align-middle">
  <div class="criteriaSelectorItemHeader">
    <div class="criteriaSelectorItemName mui--pull-left">Критерий</div>
    <span class="criteriaSelectorItemOptions mui--pull-right">
      <!-- <i class="fa fa-sort-down"></i> -->
      <!-- <i class="fa fa-reorder criteriaMenuItem settings"></i> -->
      <select name="criteria_condition_group" class="itemSelectCondition criteriaSelectorItemCondition">
        <!-- <option value="" disabled selected>Связь</option> -->
        <option value="and">И</option>
        <option value="or">ИЛИ</option>
      </select>

      <i class="fa fa-trash-o criteriaMenuItem remove"></i>
    </span>
    <div class="mui--clearfix"></div>
  </div>
  <div class="criteriaForm hide">
      <select name="table_name" style="width: 92%; padding: 15px auto;padding-top: 15px; margin-bottom: 20px;">
        <option disabled="true">Выберете журнал</option>
      </select>

      <select name="origin_name" style="width: 92%; padding: 15px auto;padding-top: 15px; margin-bottom: 20px;">
        <option disabled="true">Выберете поле</option>
      </select>
      
      <select name="conditions" style="width: 92%; padding: 15px auto;padding-top: 15px; margin-bottom: 20px; text-align: left;">
        <option data-available='["String", "DateTime"]' value="equal">Точное совпадение</option>
        <option data-available='["String"]'             value="not_equal" style="display: none">Не</option>
        <option data-available='["String"]'             value="regexp">Частичное совпадение</option>
        <option data-available='["String"]'             value="full_text">Ключевые слова</option>
        <option data-available='["String"]'             value="group">Группа</option>
        <option data-available='["String"]'             value="not_in_group">Исключая группу</option>
        <option data-available='["Boolean"]'            value="exist">Присутствует</option>
        <option data-available='["DateTime"]'           value="range" >За период</option>
      </select>      
      <input class="muiFieldField" type="text" name="value" placeholder="Значение">
  </div>
</li>

<div class="nCoreDocumentSettings mui--hide">
  <form onsubmit="nCore.document.root.publish('updateDocument', this); return false;">
    <legend>Свойства документа</legend>
    <div class="mui-textfield mui-textfield--float-label">
      <input type="text" class="nCoreName" name="nCoreName">
      <label>Название</label>
    </div>
    <div class="mui-textfield mui-textfield--float-label">
      <input type="text" class="nCoreDescription" name="nCoreDescription">
      <label>Описание</label>
    </div>
    <div class="mui-textfield mui-textfield--float-label">
      <input type="date" class="nCorePeriodStart" name="nCorePeriodStart">
      <label>Начало периода</label>
    </div>
    <div class="mui-textfield mui-textfield--float-label">
      <input type="date" class="nCorePeriodEnd" name="nCorePeriodEnd">
      <label>Окончание периода</label>
    </div>
    <button type="submit" class="mui-btn mui-btn--raised">Сохранить</button>
  </form>
</div>