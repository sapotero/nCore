<template id="core-report">

  <style> @import "assets/css/css/mdl.css"; </style>
  <style> @import "assets/css/css/font.css"; </style>
  <style> @import "assets/css/elements/layout.css"; </style>
  <style> @import "assets/css/animate.css"; </style>
  
  <div class="core-report">
    

  </div>

</template>

<script>
window.onload = (function( window, document, undefined) {
  var thatDoc      = document,
      thisDoc      = (thatDoc._currentScript || thatDoc.currentScript).ownerDocument,
      itemTemplate = thisDoc.querySelector('template#core-report').content,
      LayoutProto  = Object.create(HTMLElement.prototype);
  
  LayoutProto.createdCallback = function(){
    this.initialize();
  };



  LayoutProto.attributeChangedCallback = function( attr, oldVal, newVal) {
    switch( attr ){
      default:
        console.log('UNEXPECTED attr, oldVal, newVal: ',attr, oldVal, newVal);
        break;
    };
  };
  LayoutProto.create = function() {
    console.log('** core-report :: create');

    var shadowRoot = this.createShadowRoot(),
        item       = thatDoc.importNode( itemTemplate, true );
    shadowRoot.appendChild( item );

    this.root = shadowRoot;

    this.layout      = this.root.querySelector('.core-report');
    this.application = this.root.querySelector('.application');
  };

  LayoutProto.addElement = function( element ){
    console.log( this.application, this.application.content, element );
    this.application.addElement( element );
  };
  
  LayoutProto.removeElement = function(element){
    this.application.removeElement( element );
  };

  LayoutProto.updateProgress = function(percent){
    this.application.updateProgress( percent );
  };


  LayoutProto.initialize = function(){
    console.log( '** core-report :: initialize', this);

    this.root             = {};
    this.layout           = {};
    this.header           = {};
    this.application      = {};

    this.create();

  };

  window.CoreSelect = thatDoc.registerElement('core-report', {
    prototype: LayoutProto
  });

})(window, document);
</script>